{"version":3,"file":"edit-employee-page-DiTNBz9e.js","sources":["../src/pages/edit-employee-page.js"],"sourcesContent":["import { LitElement, html, css } from 'lit';\nimport '../components/layout/app-top-bar.js';\nimport '../components/employee/employee-form.js';\nimport { i18n } from '../i18n/i18n.js';\nimport { store } from '../services/store/store.js';\nimport { updateEmployee } from '../services/store/actions.js';\nimport { router } from '../services/router-service.js';\nimport { Events, Language } from '../constants/enums.js';\n\nexport class EditEmployeePage extends LitElement {\n  static get properties() {\n    return {\n      employeeId: { type: String },\n      employeeData: { type: Object },\n      lang: { type: String },\n      loading: { type: Boolean }\n    };\n  }\n  \n  constructor() {\n    super();\n    this.employeeId = '';\n    this.employeeData = null;\n    this.lang = document.documentElement.lang || Language.EN;\n    this.loading = true;\n    \n    window.addEventListener(Events.LANGUAGE_CHANGED, this._onLanguageChanged.bind(this));\n  }\n  \n  _onLanguageChanged(e) {\n    this.lang = e.detail.lang;\n    this.requestUpdate();\n  }\n  \n  onBeforeEnter(location) {\n    this.employeeId = location.params.id;\n    this._loadEmployeeData();\n  }\n  \n  _loadEmployeeData() {\n    this.loading = true;\n    \n    const id = parseInt(this.employeeId, 10);\n    \n    const employee = store.getState().employees.find(emp => emp.id === id);\n    \n    if (employee) {\n      this.employeeData = { ...employee };\n      this.loading = false;\n    } else {\n      console.error(`Employee with ID ${id} not found`);\n      setTimeout(() => {\n        router.navigate('/');\n      }, 500);\n    }\n  }\n  \n  _handleEmployeeUpdated(e) {\n    const updatedEmployee = e.detail.employee;\n    \n    const id = parseInt(this.employeeId, 10);\n    store.dispatch(updateEmployee(id, updatedEmployee));\n  }\n  \n  static get styles() {\n    return css`\n      :host {\n        display: block;\n        height: 100vh;\n        background-color: #f5f5f5;\n      }\n      \n      .container {\n        max-width: 1800px;\n        margin: 0 auto;\n        padding: 1rem;\n        width: 95%;\n      }\n      \n      .page-content {\n        background-color: #ffffff;\n        border-radius: 4px;\n        box-shadow: 0 1px 3px rgba(0,0,0,0.1);\n        padding: 20px;\n        margin-bottom: 1rem;\n      }\n      \n      .page-title {\n        font-size: 1.5rem;\n        color: #ff6600;\n        font-weight: bold;\n        margin: 0 0 1.25rem 0;\n      }\n      \n      .employee-id {\n        color: #666;\n        font-size: 0.9rem;\n        margin-bottom: 1.25rem;\n      }\n    `;\n  }\n  \n  render() {\n    if (this.loading) {\n      return html`\n        <app-top-bar></app-top-bar>\n        <div class=\"container\">\n          <div class=\"page-content\">\n            <p>${i18n.t('loading')}</p>\n          </div>\n        </div>\n      `;\n    }\n    \n    return html`\n      <app-top-bar></app-top-bar>\n      \n      <div class=\"container\">\n        <div class=\"page-content\">\n          <h2 class=\"page-title\">${i18n.t('employeeForm.editTitle')}</h2>\n          <p class=\"employee-id\">ID: ${this.employeeId}</p>\n          <employee-form \n            .employee=${this.employeeData || {}}\n            @employee-updated=${this._handleEmployeeUpdated}\n          ></employee-form>\n        </div>\n      </div>\n    `;\n  }\n}\n\ncustomElements.define('edit-employee-page', EditEmployeePage); "],"names":["LitElement","css","html"],"mappings":"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"}